-- phpMyAdmin SQL Dump
-- version 4.8.4
-- https://www.phpmyadmin.net/
--
-- Host: localhost
-- Generation Time: Sep 09, 2019 at 08:35 PM
-- Server version: 10.1.37-MariaDB
-- PHP Version: 7.3.1

SET SQL_MODE = "NO_AUTO_VALUE_ON_ZERO";
SET AUTOCOMMIT = 0;
START TRANSACTION;
SET time_zone = "+00:00";


/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8mb4 */;

--
-- Database: `building_organizer`
--

-- --------------------------------------------------------

--
-- Table structure for table `Department`
--

CREATE TABLE `Department` (
  `id` int(11) NOT NULL,
  `owner_name` varchar(50) NOT NULL,
  `mobile` int(11) NOT NULL,
  `password` varchar(50) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

--
-- Dumping data for table `Department`
--

INSERT INTO `Department` (`id`, `owner_name`, `mobile`, `password`) VALUES
(0, 'admin', 0, 'admin0'),
(2, 'mahrous', 1224196632, 'mahrous2'),
(12, 'Mohamed saleh', 1224182200, 'mohamed12'),
(22, 'magdy gaher', 1129655112, 'magdy22');

-- --------------------------------------------------------

--
-- Table structure for table `Emergency`
--

CREATE TABLE `Emergency` (
  `id` int(11) NOT NULL,
  `date` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `amount` float NOT NULL,
  `description` text CHARACTER SET cp1256 NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

--
-- Dumping data for table `Emergency`
--

INSERT INTO `Emergency` (`id`, `date`, `amount`, `description`) VALUES
(1, '2019-09-06 22:38:01', 200, 'إصلاح خزان المياة'),
(2, '2019-09-06 22:38:01', 160, 'إصلاح الأصانصير'),
(22, '2019-09-08 22:23:47', 10, 'مكم'),
(24, '2019-09-08 22:27:49', 100, '?µ???§?†?© ?®?²?§?† ?§?„?…???§?©');

-- --------------------------------------------------------

--
-- Table structure for table `Emergency_received`
--

CREATE TABLE `Emergency_received` (
  `department_id` int(11) NOT NULL,
  `emergency_receivable_id` int(11) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

--
-- Dumping data for table `Emergency_received`
--

INSERT INTO `Emergency_received` (`department_id`, `emergency_receivable_id`) VALUES
(2, 1),
(12, 2),
(12, 24),
(22, 24);

-- --------------------------------------------------------

--
-- Table structure for table `Expenses`
--

CREATE TABLE `Expenses` (
  `id` int(11) NOT NULL,
  `date` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `amount` float NOT NULL,
  `received_by` varchar(50) NOT NULL,
  `description` text CHARACTER SET cp1256 NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

--
-- Dumping data for table `Expenses`
--

INSERT INTO `Expenses` (`id`, `date`, `amount`, `received_by`, `description`) VALUES
(1, '2019-09-08 14:49:04', 150, 'mr adel', 'صيانة خزان المياة'),
(2, '2019-09-09 15:37:20', 200, 'akram ali', 'cleaning the building');

-- --------------------------------------------------------

--
-- Table structure for table `monthly_receivables`
--

CREATE TABLE `monthly_receivables` (
  `id` int(11) NOT NULL,
  `date` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `month` int(50) NOT NULL,
  `amount` float NOT NULL,
  `description` text CHARACTER SET cp1256 NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

--
-- Dumping data for table `monthly_receivables`
--

INSERT INTO `monthly_receivables` (`id`, `date`, `month`, `amount`, `description`) VALUES
(1, '2019-09-06 23:11:38', 2, 200, 'حارس العمارة - نور السلم -'),
(2, '2019-09-06 23:11:38', 2, 150, ' صيانة خزن المياة - رفع الزبالة'),
(3, '2019-09-06 23:15:33', 3, 150, 'صيانة السلم- رفع القمامة'),
(76, '2019-09-09 10:09:01', 0, 0, '?§?¬?±?© ?­?§?±?³ ?§?„?¹?…?§?±?© - ?§?„?‚?…?§?…?© - ???†?¸???? ?§?„?³?„?…'),
(107, '2019-09-09 17:15:58', 0, 0, '?§?¬?±?© ?­?§?±?³ ?§?„?¹?…?§?±?© - ?§?„?‚?…?§?…?© - ???†?¸???? ?§?„?³?„?…'),
(108, '2019-09-09 17:16:05', 0, 0, '?§?¬?±?© ?­?§?±?³ ?§?„?¹?…?§?±?© - ?§?„?‚?…?§?…?© - ???†?¸???? ?§?„?³?„?…'),
(109, '2019-09-09 17:17:30', 0, 0, '?§?¬?±?© ?­?§?±?³ ?§?„?¹?…?§?±?© - ?§?„?‚?…?§?…?© - ???†?¸???? ?§?„?³?„?…'),
(110, '2019-09-09 17:17:35', 0, 0, '?§?¬?±?© ?­?§?±?³ ?§?„?¹?…?§?±?© - ?§?„?‚?…?§?…?© - ???†?¸???? ?§?„?³?„?…'),
(111, '2019-09-09 17:53:54', 0, 0, '?§?¬?±?© ?­?§?±?³ ?§?„?¹?…?§?±?© - ?§?„?‚?…?§?…?© - ???†?¸???? ?§?„?³?„?…'),
(112, '2019-09-09 17:54:04', 0, 0, '?§?¬?±?© ?­?§?±?³ ?§?„?¹?…?§?±?© - ?§?„?‚?…?§?…?© - ???†?¸???? ?§?„?³?„?…'),
(113, '2019-09-09 17:54:17', 0, 0, '?§?¬?±?© ?­?§?±?³ ?§?„?¹?…?§?±?© - ?§?„?‚?…?§?…?© - ???†?¸???? ?§?„?³?„?…'),
(114, '2019-09-09 17:54:41', 0, 0, '?§?¬?±?© ?­?§?±?³ ?§?„?¹?…?§?±?© - ?§?„?‚?…?§?…?© - ???†?¸???? ?§?„?³?„?…'),
(115, '2019-09-09 17:54:55', 0, 0, '?§?¬?±?© ?­?§?±?³ ?§?„?¹?…?§?±?© - ?§?„?‚?…?§?…?© - ???†?¸???? ?§?„?³?„?…'),
(116, '2019-09-09 17:55:08', 0, 0, '?§?¬?±?© ?­?§?±?³ ?§?„?¹?…?§?±?© - ?§?„?‚?…?§?…?© - ???†?¸???? ?§?„?³?„?…'),
(117, '2019-09-09 18:17:35', 0, 0, '?§?¬?±?© ?­?§?±?³ ?§?„?¹?…?§?±?© - ?§?„?‚?…?§?…?© - ???†?¸???? ?§?„?³?„?…'),
(118, '2019-09-09 18:17:38', 0, 0, '?§?¬?±?© ?­?§?±?³ ?§?„?¹?…?§?±?© - ?§?„?‚?…?§?…?© - ???†?¸???? ?§?„?³?„?…'),
(119, '2019-09-09 18:19:09', 0, 0, '?§?¬?±?© ?­?§?±?³ ?§?„?¹?…?§?±?© - ?§?„?‚?…?§?…?© - ???†?¸???? ?§?„?³?„?…'),
(120, '2019-09-09 18:20:14', 0, 0, '?§?¬?±?© ?­?§?±?³ ?§?„?¹?…?§?±?© - ?§?„?‚?…?§?…?© - ???†?¸???? ?§?„?³?„?…'),
(121, '2019-09-09 18:20:14', 0, 0, '?§?¬?±?© ?­?§?±?³ ?§?„?¹?…?§?±?© - ?§?„?‚?…?§?…?© - ???†?¸???? ?§?„?³?„?…'),
(122, '2019-09-09 18:21:00', 0, 0, '?§?¬?±?© ?­?§?±?³ ?§?„?¹?…?§?±?© - ?§?„?‚?…?§?…?© - ???†?¸???? ?§?„?³?„?…'),
(123, '2019-09-09 18:22:17', 0, 0, '?§?¬?±?© ?­?§?±?³ ?§?„?¹?…?§?±?© - ?§?„?‚?…?§?…?© - ???†?¸???? ?§?„?³?„?…'),
(124, '2019-09-09 18:22:46', 0, 0, '?§?¬?±?© ?­?§?±?³ ?§?„?¹?…?§?±?© - ?§?„?‚?…?§?…?© - ???†?¸???? ?§?„?³?„?…'),
(125, '2019-09-09 18:23:09', 0, 0, '?§?¬?±?© ?­?§?±?³ ?§?„?¹?…?§?±?© - ?§?„?‚?…?§?…?© - ???†?¸???? ?§?„?³?„?…'),
(126, '2019-09-09 18:23:33', 0, 0, '?§?¬?±?© ?­?§?±?³ ?§?„?¹?…?§?±?© - ?§?„?‚?…?§?…?© - ???†?¸???? ?§?„?³?„?…'),
(127, '2019-09-09 18:23:59', 0, 0, '?§?¬?±?© ?­?§?±?³ ?§?„?¹?…?§?±?© - ?§?„?‚?…?§?…?© - ???†?¸???? ?§?„?³?„?…'),
(128, '2019-09-09 18:24:06', 0, 0, '?§?¬?±?© ?­?§?±?³ ?§?„?¹?…?§?±?© - ?§?„?‚?…?§?…?© - ???†?¸???? ?§?„?³?„?…'),
(129, '2019-09-09 18:29:21', 0, 0, '?§?¬?±?© ?­?§?±?³ ?§?„?¹?…?§?±?© - ?§?„?‚?…?§?…?© - ???†?¸???? ?§?„?³?„?…'),
(130, '2019-09-09 18:30:57', 0, 0, '?§?¬?±?© ?­?§?±?³ ?§?„?¹?…?§?±?© - ?§?„?‚?…?§?…?© - ???†?¸???? ?§?„?³?„?…'),
(131, '2019-09-09 18:32:15', 0, 0, '?§?¬?±?© ?­?§?±?³ ?§?„?¹?…?§?±?© - ?§?„?‚?…?§?…?© - ???†?¸???? ?§?„?³?„?…'),
(132, '2019-09-09 18:33:04', 0, 0, '?§?¬?±?© ?­?§?±?³ ?§?„?¹?…?§?±?© - ?§?„?‚?…?§?…?© - ???†?¸???? ?§?„?³?„?…'),
(133, '2019-09-09 18:33:46', 0, 0, '?§?¬?±?© ?­?§?±?³ ?§?„?¹?…?§?±?© - ?§?„?‚?…?§?…?© - ???†?¸???? ?§?„?³?„?…');

-- --------------------------------------------------------

--
-- Table structure for table `Monthly_received`
--

CREATE TABLE `Monthly_received` (
  `department_id` int(11) NOT NULL,
  `monthly_receivable_id` int(11) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

--
-- Dumping data for table `Monthly_received`
--

INSERT INTO `Monthly_received` (`department_id`, `monthly_receivable_id`) VALUES
(2, 2),
(2, 76),
(12, 1),
(12, 2),
(12, 76),
(22, 1),
(22, 2),
(22, 76);

--
-- Indexes for dumped tables
--

--
-- Indexes for table `Department`
--
ALTER TABLE `Department`
  ADD PRIMARY KEY (`id`);

--
-- Indexes for table `Emergency`
--
ALTER TABLE `Emergency`
  ADD PRIMARY KEY (`id`);

--
-- Indexes for table `Emergency_received`
--
ALTER TABLE `Emergency_received`
  ADD PRIMARY KEY (`department_id`,`emergency_receivable_id`),
  ADD KEY `emergency_receivable_id` (`emergency_receivable_id`);

--
-- Indexes for table `Expenses`
--
ALTER TABLE `Expenses`
  ADD PRIMARY KEY (`id`);

--
-- Indexes for table `monthly_receivables`
--
ALTER TABLE `monthly_receivables`
  ADD PRIMARY KEY (`id`);

--
-- Indexes for table `Monthly_received`
--
ALTER TABLE `Monthly_received`
  ADD PRIMARY KEY (`department_id`,`monthly_receivable_id`),
  ADD KEY `monthly_receivable_id` (`monthly_receivable_id`);

--
-- AUTO_INCREMENT for dumped tables
--

--
-- AUTO_INCREMENT for table `Emergency`
--
ALTER TABLE `Emergency`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=25;

--
-- AUTO_INCREMENT for table `Expenses`
--
ALTER TABLE `Expenses`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=3;

--
-- AUTO_INCREMENT for table `monthly_receivables`
--
ALTER TABLE `monthly_receivables`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=134;

--
-- Constraints for dumped tables
--

--
-- Constraints for table `Emergency_received`
--
ALTER TABLE `Emergency_received`
  ADD CONSTRAINT `Emergency_received_ibfk_1` FOREIGN KEY (`emergency_receivable_id`) REFERENCES `Emergency` (`id`),
  ADD CONSTRAINT `Emergency_received_ibfk_2` FOREIGN KEY (`department_id`) REFERENCES `Department` (`id`);

--
-- Constraints for table `Monthly_received`
--
ALTER TABLE `Monthly_received`
  ADD CONSTRAINT `Monthly_received_ibfk_1` FOREIGN KEY (`department_id`) REFERENCES `Department` (`id`),
  ADD CONSTRAINT `Monthly_received_ibfk_2` FOREIGN KEY (`monthly_receivable_id`) REFERENCES `monthly_receivables` (`id`);
COMMIT;

/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
